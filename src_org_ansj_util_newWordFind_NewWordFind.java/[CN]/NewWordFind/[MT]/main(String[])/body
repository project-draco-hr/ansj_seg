{
  String content="DOMDOM??????HTML DOM???XML DOM?????????????????????????????????????????????HTML/XML??????????????????????????????????????????????????????????????????????????????????????????????????????????????? 1???DOM????????????HTML/XML??????????????????????????????????????????????????????????????????XML?????????????????? 2??????DOM?????????????????????????????????????????????????????????????????????????????? 3) ???????????????????????????DOM???HTML/XML??????????????????HTML/XML?????????????????????DOM???????????????????????????DOM???????????????????????????HTML/XML????????????????????????DOM= Document Object Model????????????????????????DOM??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????HTML???XML?????????????????????????????????????????????DOM????????????????????????????????????OMG???????????????????????????????????????????????????????????????.???               D????????? ??? html ?????? ??? xml ?????????         O????????? ??? document ???????????????????????????         M????????????               DOM ?????????xml(html)???????????????API??????               DOM???:?????????node??????????????????               DOM ??????????????????????????????????????????????????????????????????               DOM?????????Node?????????????????????????????????????????????XML?????????????????????DOM?????????<html>:       <head>              <title>HTML DOM</title>       </head>       <body>       <h1>DOM?????????</h1>       <p><a href=???href???>??????</a></p></body></html>html???????????????head???body???html???????????????title???head???????????????body???h1???p???????????? ??????l       ?????? DOM???HTML ?????????????????????????????????????????????DOM ????????????????????????         ????????????????????????????????? ???         ?????? HTML ??????????????????????????? ???         ????????? HTML ????????????????????????????????? ???         ????????? HTML ??????????????????????????? ???         ???????????????????????? Node ??????l       ?????????????????????????????????HTML ?????????????????????????????????????????????????????????????????????HTML ???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????l       ??????       ???????????????????????????????????????????????????????????????????????????        ????????????HMTL?????????????????????????????????        ???????????????????????????????????????        ?????????????????????????????????        ????????????????????????l       ?????????        ?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????  NODE????????????????????????        ??????/??????     ??????/????????????     ???    ???         nodeName     String     ????????????????????????????????????????????????         nodeValue     String     ?????????????????????????????????????????????         nodeType     Number     ??????????????????????????????         ownerDocument     Document     ?????????????????????????????????         firstChild     Node     ?????????childNodes???????????????????????????         lastChild     Node     ?????????childNodes??????????????????????????????         childNodes     NodeList     ????????????????????????         previousSibling     Node     ?????????????????????????????????????????????????????????????????? ???????????????????????????null         nextSibling     Node     ????????????????????????????????????????????????????????????????????? ???????????????????????????null         hasChildNodes()     Boolean     ???childNodes??????????????????????????????????????????         attributes     NamedNodeMap     ???????????????????????????????????????Attr?????????????????? Element??????         appendChild(node)       Node     ???node?????????childNodes?????????         removeChild(node)     Node     ???childNodes?????????node         replaceChild (newnode, oldnode)     Node     ???childNodes??????oldnode?????????newnode         insertBefore (newnode, refnode)     Node     ???childNodes??????refnode????????????newnode        ???????????????????????????????????????????????????????????????????????????????????????????????? getElementById() ??? getElementsByTagName() ?????? ????????????????????????????????? parentNode???firstChild ?????? lastChild ?????? ??????????????????1???getElementById() var element = document.getElementById ( ID )2???getElementsByName()<input type='text' name='tname' value='??????60???_1' /><br><input type='text' name='tname' value='??????60???_2' /><br><input type='text' name='tname' value='??????60???_3' /><br> function test(){       var tnameArray=document.getElementsByName('tname');  alert(tnameArray.length);        for(var i=0;i<tnameArray.length;i++){               window.alert(tnameArray[i].value);            }         }3???getElementsByTagName()var elements = document.getElementsByTagName(tagName);     var elements = element.getElementsByTagName(tagName);???var container =   document.getElementById(???sid???);   var elements = container.getElementsByTagName(???p???);   alert(elements .length);??????inputvar inputElements=document.getElementsByTagName('input');    //??????input???????????????alert(inputElements.length);       for(var i=0;i<inputElements.length;i++){      if(inputElements[i].type!=\'button\'){alert(inputElements[i].value);}}??????select//??????select??????var selectElements=document.getElementsByTagName('select');     //??????select???????????????  for(var j=0;j<selectElements.length;j++){       var optionElements=selectElements[j].getElementsByTagName('option');       for(var i=0;i<optionElements.length;i++){            alert(optionElements[i].value); } }?????????????????????????????????????????????parentNode???????????????firstChil????????????????????????lastChild?????????????????????hasChildNodes()   :?????????????????????????????????????????????????????????????????? true ??? false.  var booleanValue = element.hasChildNodes();????????????????????????????????????????????????????????????????????????????????????????????? hasChildNodes ??????????????????????????? false.?????? hasChildNodes ????????????????????? false?????? childNodes,firstChild,lastChild ?????????????????????????????????Document???documentElement?????????????????? XML ?????? HTML ???????????????????????????document.body ????????? HTML ???????????????????????????????????? <body> ?????????????????????nodeName?????????????????? nodeValue??????????????? nodeType??????????????????  ??????nodeName ???????????? XML ???????????????????????????????????????nodeName ???????????????????????? ?????????????????????????????????value<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN'><html>    <head>       <title>demo01.html</title>       <meta http-equiv='keywords' content='keyword1,keyword2,keyword3'>       <meta http-equiv='description' content='this is my page'>       <meta http-equiv='content-type' content='text/html; charset=UTF-8'>       <!--<link rel='stylesheet' type='text/css' href='./styles.css'>-->    </head>    <body>       <h1>           ?????????kouxiaolin       </h1>    </body></html><script type='text/javascript'><!--window.onload=function(){var root=document.documentElement;alert('?????????????????????'+root.nodeName); var ss=root.firstChild;alert('root?????????????????????head???'+ss.nodeName); var ee=root.lastChild;alert('root????????????????????????body???'+ee.nodeName); var body=document.body;alert('body?????????'+body.nodeName); var h1=body.firstChild;alert('body???????????????????????????h1???'+h1.nodeName); var tt=h1.firstChild;alert('h1???????????????????????????'+tt.nodeName);alert('h1????????????????????????'+tt.nodeValue);}//  -->  </script>??????select????????????option??????????????????<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN'><html>    <head>       <title>Demo02.html</title>       <meta http-equiv='keywords' content='keyword1,keyword2,keyword3'>       <meta http-equiv='description' content='this is my page'>       <meta http-equiv='content-type' content='text/html; charset=UTF-8'>       <!--<link rel='stylesheet' type='text/css' href='./styles.css'>-->       <script type='text/javascript'>window.onload = function() {    //??????getElementById('edu')????????????select?????????    var edus = document.getElementById('edu');    //??????select???options?????????????????????option??????    var edus1  =   edus.options;    var msg ='';    //???????????????option??????????????????      for(var i=0;i<edus1.length;i++){          msg+=edus1[i].innerHTML+',';      }     //????????????msg???????????????showMsg???div???     document.getElementById('showMsg').innerHTML=msg;    }</script>    </head>    <body>    <div>       <form action=''>       ?????????:<input type='text' name='name' />       ??????:<select id='edu' name='education'>           <option value='??????'>?????????</option>           <option value='??????'>?????????</option>           <option value='??????'>?????????</option>           <option value='??????'>?????????</option>       </select>       <input type='submit' value='??????' />       </form>    </div>          ?????????????????????   <div id='showMsg'>   </div>    </body></html>???<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN'><html>    <head>       <title>Demo02.html</title>       <meta http-equiv='keywords' content='keyword1,keyword2,keyword3'>       <meta http-equiv='description' content='this is my page'>       <meta http-equiv='content-type' content='text/html; charset=UTF-8'>       <!--<link rel='stylesheet' type='text/css' href='./styles.css'>-->       <script type='text/javascript'>window.onload = function() {    //??????getElementById('edu')????????????select?????????    var edus = document.getElementById('edu');    var edus1 = edus.childNodes;    alert(edus1.length);    var fc = edus.firstChild;    alert(fc.nodeName);    var lc = edus.lastChild;    alert(lc.nodeName);    var llc = lc.firstChild;    alert(llc.nodeValue);     var msg = '';    for ( var i = 0; i < edus1.length; i++) {       if (edus1[i].nodeType == 1)           msg += edus1[i].lastChild.nodeValue + ',';    }    document.getElementById('showMsg').innerHTML = msg;}</script>    </head>    <body>       <div>           <form action=''>              ?????????:              <input type='text' name='name' />              ??????:              <select id='edu' name='education'>                  <option value='??????'>                     ?????????                  </option>                  <option value='??????'>                     ?????????                  </option>                  <option value='??????'>                     ?????????                  </option>                  <option value='??????'>                     ?????????                  </option>              </select>              <input type='submit' value='??????' />           </form>       </div>       ?????????????????????       <div id='showMsg'>       </div>    </body></html>  ' 6302859, 0, 23, '2011-3-16 20:42:00', ' ?????????????????????Smith???1982?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????,??????Lisp?????????????????????????????????????????????LEAD/LEAD++ ???OpenC++ ???MetaXa???OpenJava?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? ?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????self-representation???????????????examination???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????Causally-connected????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? Java?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????JVM????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? ??????Java?????????????????? Reflection ??? Java ????????????????????????????????????????????????????????? Java ????????????????????????????????????????????????????????????????????????????????????????????????Java ?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????Pascal???C ?????? C++ ?????????????????????????????????????????????????????????????????? 1??????????????? 1.1 reflection??????????????? ??????????????????????????????????????????????????? reflection ????????????????????? import java.lang.reflect.*; public class DumpMethods { public static void main(String args[]) { try { Class c = Class.forName(args[0]); Method m[] = c.getDeclaredMethods(); for (int i = 0; i < m.length; i++) System.out.println(m[i].toString()); } catch (Throwable e) { System.err.println(e); } } } ???????????????????????? java DumpMethods java.util.Stack ???????????????????????? public java.lang.Object java.util.Stack.push(java.lang.Object) public synchronized java.lang.Object java.util.Stack.pop() public synchronized java.lang.Object java.util.Stack.peek() public boolean java.util.Stack.empty() public synchronized int java.util.Stack.search(java.lang.Object) ??????????????????java.util.Stack ???????????????????????????????????????????????????????????? ?????????????????? Class.forName ????????????????????????????????? getDeclaredMethods ????????????????????????????????????????????????java.lang.reflect.Methods ?????????????????????????????????????????????????????? 1.2 Java??????????????????????????? ???????????????????????????????????????????????? -- ?????????????????????????????? -- java.lang.Class ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? l Constructor getConstructor(Class[] params) -- ????????????????????????????????????????????????????????? l Constructor[] getConstructors() -- ???????????????????????????????????? l Constructor getDeclaredConstructor(Class[] params) -- ?????????????????????????????????????????????(?????????????????????) l Constructor[] getDeclaredConstructors() -- ??????????????????????????????(?????????????????????) ?????????????????????Class ???????????????????????????????????????????????????????????????????????????????????????????????????????????? l Field getField(String name) -- ??????????????????????????? l Field[] getFields() -- ?????????????????????????????? l Field getDeclaredField(String name) -- ????????????????????????????????? l Field[] getDeclaredFields() -- ?????????????????????????????? ????????????????????????????????? l Method getMethod(String name, Class[] params) -- ????????????????????????????????????????????????????????? l Method[] getMethods() -- ?????????????????????????????? l Method getDeclaredMethod(String name, Class[] params) -- ??????????????????????????????????????????????????????????????? l Method[] getDeclaredMethods() -- ?????????????????????????????? 1.3???????????? Reflection??? ?????? reflection ???????????? Method???????????? java.lang.relfect ???????????????????????????????????????????????????????????????????????????????????????????????????????????? java.lang.Class ???????????????????????? Java ??????????????? java.lang.Class ?????????????????????????????? ???????????????????????? Class ???????????????????????? Class c = Class.forName('java.lang.String'); ???????????????????????? String ??????????????????????????????????????????????????????????????? Class c = int.class; ?????? Class c = Integer.TYPE; ?????????????????????????????????????????????????????????????????????????????????????????????????????? (??? Integer) ????????????????????? TYPE ????????? ???????????????????????? getDeclaredMethods ??????????????????????????????????????????????????????????????? ?????????????????????????????????????????????????????????????????? reflection API ???????????????????????????????????????????????? Class c = Class.forName('java.lang.String'); Method m[] = c.getDeclaredMethods(); System.out.println(m[0].toString()); ?????????????????????????????? String ??????????????????????????????????????? 2?????????????????? ?????????????????????????????????debugger??????????????????????????????filed values,?????????????????????: a.????????????Class?????? b.??????getField ????????????Field?????? c.??????Field.getXXX(Object)??????(XXX???Int,Float?????????????????????????????????Object????????????). ????????? import java.lang.reflect.*; import java.awt.*; class SampleGet { public static void main(String[] args) { Rectangle r = new Rectangle(100, 325); printHeight(r); } static void printHeight(Rectangle r) { Field heightField; Integer heightValue; Class c = r.getClass(); try { heightField = c.getField('height'); heightValue = (Integer) heightField.get(r); System.out.println('Height: ' + heightValue.toString()); } catch (NoSuchFieldException e) { System.out.println(e); } catch (SecurityException e) { System.out.println(e); } catch (IllegalAccessException e) { System.out.println(e); } } } ??????????????????????????? ???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? ????????????????????????????????????Java???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? n ?????????????????????????????????????????? n ???????????????????????????????????????????????? n ????????????????????????????????????????????????????????? ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????java.lang.reflect.AccessibleObject ??????????????????????????????setAccessible?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? ???????????????????????????TwoString ?????????????????????????????????????????????????????????????????? public class ReflectSecurity { public static void main(String[] args) { try { TwoString ts = new TwoString('a', 'b'); Field field = clas.getDeclaredField('m_s1'); // field.setAccessible(true); System.out.println('Retrieved value is ' + field.get(inst)); } catch (Exception ex) { ex.printStackTrace(System.out); } } } ???????????????????????????????????????????????????????????????????????????????????????????????????field .get(inst)?????????????????????IllegalAccessException??????????????????????????????field.setAccessible(true)????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????JVM??????-Djava.security.manager????????????????????????????????????????????????????????????????????????????????????ReflectSecurity????????????????????? ????????????????????? ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????JVM?????????????????????????????????????????????????????????????????????????????????????????????????????????????????? ??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? -- accessSame ???????????????????????????????????????accessOther ????????????????????????????????????????????????accessReflection ?????????????????????????????????????????????????????????????????????????????????????????????????????? -- ?????????????????????/???????????? ??????????????? public int accessSame(int loops) { m_value = 0; for (int index = 0; index < loops; index++) { m_value = (m_value + ADDITIVE_VALUE) * MULTIPLIER_VALUE; } return m_value; } public int accessReference(int loops) { TimingClass timing = new TimingClass(); for (int index = 0; index < loops; index++) { timing.m_value = (timing.m_value + ADDITIVE_VALUE) * MULTIPLIER_VALUE; } return timing.m_value; } public int accessReflection(int loops) throws Exception { TimingClass timing = new TimingClass(); try { Field field = TimingClass.class. getDeclaredField('m_value'); for (int index = 0; index < loops; index++) { int value = (field.getInt(timing) + ADDITIVE_VALUE) * MULTIPLIER_VALUE; field.setInt(timing, value); } return timing.m_value; } catch (Exception ex) { System.out.println('Error using reflection'); throw ex; } } ??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? ??? 1????????????????????? ??? ???????????????????????????????????????(Sun JVM)?????????????????????????????????????????????????????????1000???????????????????????????IBM JVM??????????????????????????????????????????????????????????????????700???????????????????????????JVM??????????????????????????????????????????????????????????????????IBM JVM?????????Sun JVM???????????????????????????????????????????????????Sun Hot Spot JVM??????????????????????????????????????????????????????????????????????????????Sun??????1.4 JVM??????????????????????????????????????????????????????????????????????????????????????????????????????Sun 1.4.1 JVM????????????1.3.1???????????????????????? ??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????newInstance()???????????????????????????java.lang.Object?????????????????????????????????Sun 1.3.1 JVM?????????new Object()???12????????????IBM 1.4.0 JVM??????????????????Sun 1.4.1 JVM?????????????????????Array.newInstance(type, size)???????????????????????????????????????????????????JVM?????????new type[size]??????????????????????????????????????????????????????????????? ???????????? Java?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????(?????????????????????)??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????XML??????????????????????????????????????????Java reflection ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????Java ????????????????????????????????????????????????????????????????????? C???C++???Fortran ?????? Pascal ????????????????????? ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? ??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? ????????????????????????????????????????????????????????????server??????????????????????????????????????????GPRS??????Socket??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????MSNP??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? ??????????????????????????????????????? package org.bromon.reflect; public interface Operator { public java.util.List act(java.util.List params) } ???????????????????????????????????????????????????????????????????????????????????????????????????Operator?????????????????????????????????Operator???????????????????????????????????????????????????????????? package org.bromon.reflect.*; public class Success implements Operator { public java.util.List act(java.util.List params) { List result=new ArrayList();   Java ????????????????????????????????????????????????????????????????????????????????????JavaBean ????????????????????????????????? ??????JavaBean ???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? -|Base.java //???????????? |Son1.java //????????????1 |Son2.java //????????????2 |Util.java /** * @author metaphy * create 2005-4-14 9:06:56 * ????????? */ ???1???Base.java ?????????????????????????????? public abstract class Base { } ???2???Son1.java /Son2.java ??????????????????JavaBean public class Son1 extends Base{ private int id ; private String name ; public int getId() { return id; } public void setId(int id) { this.id = id; } public String getName() { return name; } public void setName(String name) { this.name = name; } public void son1Method(String s){ System.out.println(s) ; } } ???3??? public class Son2 extends Base{ private int id; private double salary; public int getId() { return id; } public void setId(int id) { this.id = id; } public double getSalary() { return salary; } public void setSalary(double salary) { this.salary = salary; } } ???4???Util.java ??????????????????????????????????????????????????????????????????????????????????????????????????? import java.lang.reflect.Method; public class Util { //???????????????????????????????????????Son1,Son2 ???????????????????????????????????????????????????????????? public static Base convertStr2ServiceBean(String beanName,String fieldSetter,String paraValue){ Base base = null ; try { Class cls = Class.forName(beanName) ; base = (Base)cls.newInstance() ; Class[] paraTypes = new Class[]{String.class }; Method method = cls.getMethod(fieldSetter, paraTypes) ; String[] paraValues = new String[]{paraValue} ; method.invoke(base, paraValues) ; } catch (Throwable e) { System.err.println(e); } return base ; } public static void main(String[] args){ Son1 son1 =(Son1) Util.convertStr2ServiceBean('trying.reflect.Son1','setName','wang da sha'); System.out.println('son1.getName() :'+son1.getName()) ; } } //??????????????? //son1.getName() :wang da sha ?????????????????????????????????????????? ???????????????????????????????????????????????????????????? ?????? //???????????????????????????Internet??????????????? Reflection ??? Java ????????????????????????????????????????????????????????? Java ??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? Java ?????????????????????????????????????????? Java ?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????Pascal???C ?????? C++ ?????????????????????????????????????????????????????????????????? JavaBean ??? reflection ???????????????????????????????????????????????????????????????????????????????????????????????? reflection ???????????????????????? Java ??????(???) ???????????? 1. ????????????????????? ??????????????????????????????????????????????????? reflection ????????????????????? import java.lang.reflect.*; public class DumpMethods { public static void main(String args[]) { try { Class c = Class.forName(args[0]); Method m[] = c.getDeclaredMethods(); for (int i = 0; i < m.length; i++) System.out.println(m[i].toString()); } catch (Throwable e) { System.err.println(e); } } } ???????????????????????? java DumpMethods java.util.Stack ???????????????????????? public java.lang.Object java.util.Stack.push(java.lang.Object) public synchronized java.lang.Object java.util.Stack.pop() public synchronized java.lang.Object java.util.Stack.peek() public boolean java.util.Stack.empty() public synchronized int java.util.Stack.search(java.lang.Object) ??????????????????java.util.Stack ???????????????????????????????????????????????????????????? ?????????????????? Class.forName ????????????????????????????????? getDeclaredMethods ????????????????????????????????????????????????java.lang.reflect.Methods ?????????????????????????????????????????????????????? 2.???????????? Reflection ?????? reflection ???????????? Method???????????? java.lang.relfect ???????????????????????????????????????????????????????????????????????????????????????????????????????????? java.lang.Class ???????????????????????? Java ??????????????? java.lang.Class ?????????????????????????????? ???????????????????????? Class ???????????????????????? Class c = Class.forName('java.lang.String'); ???????????????????????? String ??????????????????????????????????????????????????????????????? Class c = int.class; ?????? Class c = Integer.TYPE; ?????????????????????????????????????????????????????????????????????????????????????????????????????? (??? Integer) ????????????????????? TYPE ????????? ???????????????????????? getDeclaredMethods ??????????????????????????????????????????????????????????????? ?????????????????????????????????????????????????????????????????? reflection API ???????????????????????????????????????????????? Class c = Class.forName('java.lang.String'); Method m[] = c.getDeclaredMethods(); System.out.println(m[0].toString()); ?????????????????????????????? String ??????????????????????????????????????? ??????????????????????????????????????????????????? reflection ??????????????????????????????????????? ?????? instanceof ????????? ??????????????????????????????????????????????????????????????? Class ??????????????????????????????????????????Class.isInstance ???????????????????????? instanceof ???????????? class A { } public class instance1 { public static void main(String args[]) { try { Class cls = Class.forName('A'); boolean b1 = cls.isInstance(new Integer(37)); System.out.println(b1); boolean b2 = cls.isInstance(new A()); System.out.println(b2); } catch (Throwable e) { System.err.println(e); } } } ????????????????????????????????? A ?????? Class ?????????????????????????????????????????? A ????????????Integer(37) ???????????? new A() ?????? 3.?????????????????? ?????????????????????????????????????????????????????????????????????????????????????????? reflection ??????????????????????????????????????????????????? import java.lang.reflect.*; public class method1 { private int f1(Object p, int x) throws NullPointerException { if (p == null) throw new NullPointerException(); return x; } public static void main(String args[]) { try { Class cls = Class.forName('method1'); Method methlist[] = cls.getDeclaredMethods(); for (int i = 0; i < methlist.length; i++) { Method m = methlist[i]; System.out.println('name = ' + m.getName()); System.out.println('decl class = ' + m.getDeclaringClass()); Class pvec[] = m.getParameterTypes(); for (int j = 0; j < pvec.length; j++) System.out.println('param #' + j + ' ' + pvec[j]); Class evec[] = m.getExceptionTypes(); for (int j = 0; j < evec.length; j++) System.out.println('exc #' + j + ' ' + evec[j]); System.out.println('return type = ' + m.getReturnType()); System.out.println('-----'); } } catch (Throwable e) { System.err.println(e); } } } ???????????????????????? method1 ??????????????????????????? getDeclaredMethods ????????????????????? Method ???????????????????????????????????????????????????????????????????????? public ?????????protected ?????????package ????????? private ??????????????????????????????????????? getMethods ????????? getDeclaredMethods?????????????????????????????????????????????????????? ????????? Method ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? ???????????????????????? name = f1 decl class = class method1 param #0 class java.lang.Object param #1 int exc #0 class java.lang.NullPointerException return type = int ----- name = main decl class = class method1 param #0 class [Ljava.lang.String; return type = void ----- 4.????????????????????? ???????????????????????????????????????????????????????????????????????? import java.lang.reflect.*; public class constructor1 { public constructor1() { } protected constructor1(int i, double d) { } public static void main(String args[]) { try { Class cls = Class.forName('constructor1'); Constructor ctorlist[] = cls.getDeclaredConstructors(); for (int i = 0; i < ctorlist.length; i++) { Constructor ct = ctorlist[i]; System.out.println('name = ' + ct.getName()); System.out.println('decl class = ' + ct.getDeclaringClass()); Class pvec[] = ct.getParameterTypes(); for (int j = 0; j < pvec.length; j++) System.out.println('param #' + j + ' ' + pvec[j]); Class evec[] = ct.getExceptionTypes(); for (int j = 0; j < evec.length; j++) System.out.println('exc #' + j + ' ' + evec[j]); System.out.println('-----'); } } catch (Throwable e) { System.err.println(e); } } } ??????????????????????????????????????????????????????????????????????????????????????????????????? ????????????????????????????????? name = constructor1 decl class = class constructor1 ----- name = constructor1 decl class = class constructor1 param #0 int param #1 double ----- 5.??????????????????(???) ?????????????????????????????????????????????????????????????????????????????????????????????????????? import java.lang.reflect.*; public class field1 { private double d; public static final int i = 37; String s = 'testing'; public static void main(String args[]) { try { Class cls = Class.forName('field1'); Field fieldlist[] = cls.getDeclaredFields(); for (int i = 0; i < fieldlist.length; i++) { Field fld = fieldlist[i]; System.out.println('name = ' + fld.getName()); System.out.println('decl class = ' + fld.getDeclaringClass()); System.out.println('type = ' + fld.getType()); int mod = fld.getModifiers(); System.out.println('modifiers = ' + Modifier.toString(mod)); System.out.println('-----'); } } catch (Throwable e) { System.err.println(e); } } } ?????????????????????????????????????????????????????????????????????????????? Modifier?????????????????? reflection ???????????????????????????????????????????????????private int????????????????????????????????????????????????????????? Modifier.toString ?????????????????????????????????????????????????????? (??????static?????????final?????????)?????????????????????????????? name = d decl class = class field1 type = double modifiers = private ----- name = i decl class = class field1 type = int modifiers = public static final ----- name = s decl class = class field1 type = class java.lang.String modifiers = ----- ??????????????????????????????????????????????????????????????????????????????????????????????????????????????? (getDeclaredFields)???????????????????????????????????????????????? (getFields) ??? 6.???????????????????????????????????? ?????????????????????????????????????????????????????????????????????????????????????????????????????? reflection ?????????????????????????????????????????????????????????????????????????????????????????????????????????????????? import java.lang.reflect.*; public class method2 { public int add(int a, int b) { return a + b; } public static void main(String args[]) { try { Class cls = Class.forName('method2'); Class partypes[] = new Class[2]; partypes[0] = Integer.TYPE; partypes[1] = Integer.TYPE; Method meth = cls.getMethod('add', partypes); method2 methobj = new method2(); Object arglist[] = new Object[2]; arglist[0] = new Integer(37); arglist[1] = new Integer(47); Object retobj = meth.invoke(methobj, arglist); Integer retval = (Integer) retobj; System.out.println(retval.intvalue()); } catch (Throwable e) { System.err.println(e); } } } ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? (?????????JavaBean ????????????????????????????????????)???????????????????????????????????????????????? ????????????getMethod ??????????????????????????????????????????????????? add ???????????????????????????????????????????????? Method ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? 37 ??? 47 ????????? Integer ???????????????????????????????????????????????? Integer ?????????????????????????????? 84??? 7.?????????????????? ??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? (???????????????????????????????????????????????????????????????????????????)???????????????????????????????????????????????? import java.lang.reflect.*; public class constructor2 { public constructor2() { } public constructor2(int a, int b) { System.out.println('a = ' + a + ' b = ' + b); } public static void main(String args[]) { try { Class cls = Class.forName('constructor2'); Class partypes[] = new Class[2]; partypes[0] = Integer.TYPE; partypes[1] = Integer.TYPE; Constructor ct = cls.getConstructor(partypes); Object arglist[] = new Object[2]; arglist[0] = new Integer(37); arglist[1] = new Integer(47); Object retobj = ct.newInstance(arglist); } catch (Throwable e) { System.err.println(e); } } } ???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? 8.????????????(???)?????? reflection ????????????????????????????????????????????????????????????reflection ???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? import java.lang.reflect.*; public class field2 { public double d; public static void main(String args[]) { try { Class cls = Class.forName('field2'); Field fld = cls.getField('d'); field2 f2obj = new field2(); System.out.println('d = ' + f2obj.d); fld.setDouble(f2obj, 12.34); System.out.println('d = ' + f2obj.d); } catch (Throwable e) { System.err.println(e); } } } ???????????????????????? d ?????????????????? 12.34??? 9.???????????? ??????????????? reflection ????????????????????????????????????????????????????????? Java ???????????????????????????????????????????????????????????????????????? Object ??????????????????????????????????????????????????????????????? import java.lang.reflect.*; public class array1 { public static void main(String args[]) { try { Class cls = Class.forName('java.lang.String'); Object arr = Array.newInstance(cls, 10); Array.set(arr, 5, 'this is a test'); String s = (String) Array.get(arr, 5); System.out.println(s); } catch (Throwable e) { System.err.println(e); } } } ??????????????? 10 ?????????????????? String ??????????????? 5 ???????????????????????????????????????????????????????????????????????????????????????????????? ?????????????????????????????????????????????????????? import java.lang.reflect.*; public class array2 { public static void main(String args[]) { int dims[] = new int[]{5, 10, 15}; Object arr = Array.newInstance(Integer.TYPE, dims); Object arrobj = Array.get(arr, 3); Class cls = arrobj.getClass().getComponentType(); System.out.println(cls); arrobj = Array.get(arrobj, 5); Array.setInt(arrobj, 10, 37); int arrcast[][][] = (int[][][]) arr; System.out.println(arrcast[3][5][10]); } } ????????????????????? 5 x 10 x 15 ?????????????????????????????? [3][5][10] ????????????????????? 37????????????**????????????????????????????????????????????????????????? Array.get ?????????arrobj ????????? 10 x 15 ???????????????????????????????????????????????????????????? 15 ????????????????????? Array.setInt ???????????? 10 ?????????????????? ?????????????????????????????????????????????????????????????????????????????????' 6302860, 0, 17, '2011-3-16 20:45:00', '????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? -????????????????????????' 6302862, 0, 0, '2011-3-16 20:54:00', ' ???.????????????  1.?????????????????????:  ????????????????????????????????????.  ?????????????????????. ????????????????????????????????????, ??????????????????. ??????: ?????????????????????, ?????????void  ????????????????????????.  ????????????return???????????????. ???????????????return????????????. 2.?????????????????????:  ???????????????new??????????????????????????????, ???????????????????????????  ????????????????????????????????????????????????????????? 3.????????????????????????  ?????????????????????, ??????????????????????????????. 4.???????????????????????????  ????????????this???????????????????????????????????????????????????  ??????this???????????????????????????, ?????????????????????????????????. 5.???????????????????????????????????????  ???????????????????????????. ??????????????????????????????????????????????????????????????????  ??????????????????????????????????????????, ??????????????????????????????????????????????????? 6.???????????????????????????  ?????????????????????????????????public, ?????????????????????????????????.  ???????????????????????????, ???????????????????????????, ???????????????private 7.????????????????????????  new Person();  ????????????????????????, ?????????????????????  ??????????????????' 6302863, 0, 13, '2011-3-16 20:59:00', '????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? ' 6302865, 0, 39, '2011-3-16 21:06:00', ' Dom4j???????????????1??? Dom4j???????????????????????????????????????????????????Dom4j??????????????????JDOM???????????????JDOM???????????????dom4j??????????????????????????????????????????????????????????????????Dom4j???API??????????????????????????????????????????JDOM?????????????????????2??? Dom4j????????????????????????Java XML API??????????????????????????????????????????????????????????????????????????????????????????Dom4j?????????Hibernate?????????sun???????????????JAXM?????????Dom4j???3???  ??????Dom4j??????????????????dom4j?????????jar?????????DOM4j????????????Document???????????????????????????       1.??????XML??????,??????document??????                       SAXReader reader = new SAXReader();                 Document   document = reader.read(new File('input.xml'));        2.??????XML???????????????,??????document??????.                 String text = '<members></members>';                  Document document = DocumentHelper.parseText(text);        3.????????????document??????.                  Document document = DocumentHelper.createDocument();             //???????????????            Element root = document.addElement('members');???????????????1???????????????????????????.      Element root = document.getRootElement(); 2?????????????????????????????????.       Element element=node.element(?????????'); 3????????????????????????      String text=node.getText();4????????????????????????????????????member?????????????????????????????????. List nodes = rootElm.elements('member');  for (Iterator it = nodes.iterator(); it.hasNext();) {     Element elm = (Element) it.next();    // do something } 5????????????????????????????????????????????????.    for(Iterator it=root.elementIterator();it.hasNext();){       Element element = (Element) it.next();       // do something    } 6?????????????????????????????????.Element ageElm = newMemberElm.addElement('age'); 7?????????????????????. element.setText('29'); 8??????????????????.//childElm?????????????????????,parentElm???????????????    parentElm.remove(childElm);9???????????????CDATA??????.Element contentElm = infoElm.addElement('content');contentElm.addCDATA(diary.getContent()); ?????????              publicclass GoodWell03 {     publicstaticvoid main(String[] args) throws Exception {              SAXReader sreader = new SAXReader();              Document doc = sreader.read(new File('src//Book.xml'));              Element root = doc.getRootElement();               System.out.println(root.getName());              perse(root);    }        privatestaticvoid perse(Element root) {       atter(root);       for(Iterator<Element> it=root.elementIterator();it.hasNext();){           Element entity=it.next();           if(entity.isTextOnly()){              atter(entity);              System.out.println(entity.getText());//????????????           }else{              perse(entity);           }       }           }    privatestaticvoid atter(Element root) {       // TODO Auto-generated method stub       for(Iterator<Attribute> it=root.attributeIterator();it.hasNext();){           Attribute entity=it.next();           System.out.println(entity.getName()+'    '+entity.getValue());                  }    }} ????????????????????? 1?????????????????????????????????    Element root=document.getRootElement();        //?????????name         Attribute attribute=root.attribute('size');2????????????????????????    String text=attribute.getText(); 3?????????????????? Attribute attribute=root.attribute('size'); root.remove(attribute);.??????????????????????????????   Element root=document.getRootElement();      for(Iterator it=root.attributeIterator();it.hasNext();){         Attribute attribute = (Attribute) it.next();         String text=attribute.getText();         System.out.println(text);    } 4????????????????????????????????????.   newMemberElm.addAttribute('name', 'sitinspring'); 5????????????????????????   Attribute attribute=root.attribute('name');   attribute.setText('sitinspring');       ???????????????xml??????1????????????????????????,???????????????,?????????????????????. XMLWriter writer = new XMLWriter(new FileWriter('output.xml')); writer.write(document); writer.close(); 2????????????????????????,?????????????????????????????????.OutputFormat format = OutputFormat.createPrettyPrint();// ??????XML??????                  format.setEncoding('GBK');       XMLWriter writer = new XMLWriter(newFileWriter('output.xml'),format);writer.write(document);writer.close(); ?????????              Document doc=DocumentHelper.createDocument();              Element root=doc.addElement('books');              Element book=root.addElement('book');              book.addAttribute('isbn', '112');              Element name=book.addElement('name');              name.setText('java');              Element author=book.addElement('author');              author.setText('goodwell');              Element price=book.addElement('price');              price.setText('112');              OutputFormat format=new OutputFormat('    ',true,'UTF-8');       XMLWriter xw=new XMLWriter(new FileWriter('src//bk.xml'),format);              xw.write(doc);          xw.close(); dom4j??????????????????????????????       1.????????????????????????????????????list???2.??????list.add(index,elemnent)??????index??????element??????????????????Element??????????????????DocumentHelper??????????????????????????????Element aaa = DocumentHelper.createElement('aaa');aaa.setText('aaa');List list = root.element('???').elements();list.add(1, aaa);//??????document                     SAXReader reader=new SAXReader();              Document doc=reader.read(new File('src//bk.xml'));              Element root=doc.getRootElement();              Element address=DocumentHelper.createElement('address');              address.setText('??????');              Element el= (Element) root.elements('book').get(1);              List list1=el.elements();              list1.add(2, address);              //???????????????book????????????              Element element=(Element) root.elements('book').get(1);              Element el=element.element('address');              element.remove(el);              OutputFormat format=new OutputFormat('    ',true,'UTF-8');              XMLWriter xw=new XMLWriter(new FileWriter('src//bk.xml'),format);              xw.write(doc);              xw.close(); ' 6302866, 2, 44, '2011-3-16 21:07:00', 'JavaScript???DOM???????????????DOM DOM???Document Object Model???????????????????????????DOM??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????HTML???XML?????????????????????????????????????????????DOM????????????????????????????????????OMG???????????????????????????????????????????????????????????????.??????DOM???DOM???????????????????????????????????????????????????????????????????????????DOM?????????????????????????????????document???DOM??????????????????????????????????????????????????????????????????: ?????????(document)   ?????????(parentNode) ?????????(childNodes) ????????????   ????????????       (sibling)   (sibling)????????????????????????kHTML????????????<html> <head> <title> </title></head> <body></body></html>????????????????????????????????????HTML???????????????DOM??????            html        body  head         div        title         ??????        ?????? ?????????????????????????????? html????????????????????????html???????????????????????????????????? head?????????title???title???????????????????????? body????????????div???div????????????????????????????????????DOM????????????????????????<html>  <head>    <title>Dom.html</title><script type='text/javascript'>window.onload = function(){ //??????docuemnt.documentElement??????????????? ==>html var zhwHtml = document.documentElement; //?????????????????? HTML ?????? alert(zhwHtml.nodeName); //??????body???????????? var zhwBody = document.body; //??????BODY??????????????? alert(zhwBody.nodeName); //??????body????????????????????? var fH = zhwBody.firstChild; alert(fH+'body?????????????????????'); //??????body???????????????????????? var lH = zhwBody.lastChild; alert(lH+'body????????????????????????'); //??????id??????<h1> var ht = document.getElementById('zhw'); alert(ht.nodeName); var text = ht.childNodes; alert(text.length); var txt = ht.firstChild; alert(txt.nodeName); alert(txt.nodeValue); alert(ht.innerHTML); alert(ht.innerText+'Text'); }</script>  </head>    <body>    <h1 id='zhw'>??????</h1>  </body></html>???????????????????????????????????????'";
  content="Adobe?????????3???????????????8???1?????????????????????????????????????????????Flash Player??????????????????????????????????????????Stage 3D?????????????????????????????????????????????5????????????????????????Adobe????????????????????????9%??? Flash Player?????????????????????????????????C/C++?????????Alchemy????????????????????????????????????Unity?????????Flash Player????????????????????????????????? ?????? Adobe ????????????????????????????????????????????????????????????????????????8????????????????????????????????????????????? Adobe??????????????????????????????????????????????????????8????????????????????????????????????????????? Flash Player??????????????????????????????????????????????????????Flash Player?????????????????????????????????????????????????????????????????????????????????????????? ";
  content="PhoneGap?????????????????????????????????PhoneGap 2.0????????? PhoneGap?????????????????????????????????????????????????????????????????????????????????????????????????????????HTML5???CSS???JavaScript???????????????????????????????????????PhoneGap??????????????????????????????????????????????????????????????????????????? PhoneGap?????????Nitobi?????????2011???10??????Nitobi???Adobe????????????PhoneGap?????????????????????Apache?????????????????????????????????????????????Apache Cordova??? PhoneGap 2.0 ????????????????????? Cordova WebView????????????PhoneGap????????????????????????????????????????????????????????????????????????????????????CLI???????????????Android???iOS???BlackBerry??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????Web Inspector Remote???Weinre????????????nodejs????????????????????????NMP???Node Package Manager?????????????????????Cordovajs?????????????????????????????????API????????????????????????????????????????????????Apache Cordova??????????????????????????????????????????iOS???????????????PhoneGap??????????????????Brian???LeRoux????????? ??????PhoneGap 2.0????????????????????????????????????????????????????????????????????????????????????????????????????????????Plugin API???????????????????????????PhoneGap???????????????????????????????????????API???????????????????????????";
  content="java???????????? spring????????????????????????java???????????? spring????????????????????????java???????????? spring????????????????????????java???????????? spring????????????????????????java???????????? spring????????????????????????java???????????? spring????????????????????????";
  content="????????????????????????????????????????????????OS X Mountain Lion???????????????10.8?????????????????????Mac App Store??????????????????128?????? ????????????OS X Mountain Lion????????????200????????????????????????iPhone???iPad???iPod touch?????????????????????????????????Mac???????????????????????????????????????????????????????????????????????? 1.  Mountain Lion?????????????????? OS X Mountain Lion ????????????????????????????????????????????????????????????????????? app ??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????Mail ?????? QQ???163 ??? 126 ?????????Safari??????????????????????????????????????????????????????????????? app ??????????????????????????????????????????????????????????????????????????????????????????????????????2.  iCloud iCloud?????????Mac???iPad???iPhone ???iPod touch??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? Apple ID ???????????????iCloud ?????????????????????????????? app ?????????????????? 3.  iMessage ?????????????????????iMessage?????????????????????????????????????????? iOS 5 ??? iPhone???iPad ??? iPod touch ??????????????????????????????????????? Mac ?????????????????????????????????????????????????????????????????? Mac ??????????????????????????????????????????????????? iPhone ??? iPad ?????????????????????????????????????????????????????????????????????????????????????????????????????? 4.  ???????????? ????????????iOS 5??????????????????????????????Mountain Lion????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? 5.  Gatekeeper Gatekeeper???????????????????????? Mac ?????????????????????????????????????????????????????????????????? app ???????????????????????? OS X ?????? Mac ?????????????????????????????? ?????????OS X Mountain Lion???????????????????????????????????????????????????????????????????????????????????????????????????????????????OS X Mountain Lion????????? ";
  System.out.println(getNewWords(content));
  ;
}
