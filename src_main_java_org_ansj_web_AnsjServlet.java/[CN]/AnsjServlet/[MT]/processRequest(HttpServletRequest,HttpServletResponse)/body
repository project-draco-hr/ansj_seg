{
  String input=req.getParameter("input");
  String strMethod=req.getParameter("method");
  AnsjMethod method=AnsjMethod.TO;
  resp.setHeader("Content-Type","text/plain; charset=utf-8");
  if (input == null) {
    resp.sendError(500,"Input not specified");
    return;
  }
  if (strMethod != null) {
    method=AnsjMethod.valueOf(strMethod.toUpperCase());
  }
  List<Term> terms=null;
switch (method) {
case TO:
    terms=ToAnalysis.parse(input);
  break;
case NLP:
terms=NlpAnalysis.parse(input);
break;
case BASE:
terms=BaseAnalysis.parse(input);
break;
}
if (terms == null) {
resp.sendError(500,"Failed to parse input");
return;
}
new NatureRecognition(terms).recognition();
for (Term term : terms) {
String tmp=term.getName() + "/" + term.getNatrue().natureStr+ " ";
resp.getWriter().append(tmp);
}
}
